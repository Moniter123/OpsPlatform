{% extends 'bootstrap.html' %}
{% block content %}

<div class="row-fluid">
    <div class="span4">
        <div class="widget-header widget-header-flat">
            <h4 class="lighter">
                Salt命令执行
            </h4>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="widget-box transparent">
{#                    <div class="widget-header widget-header-flat">#}
{#                        <h4 class="lighter">#}
{#                            目标选择#}
{#                        </h4>#}
{#                    </div>#}

                    <div class="widget-body">
                        <div class="widget-main no-padding">
                            <form action= "{{url_for('salt.saltcmd')}}" method="POST"  >

                                  <div class="form-group">
                                    <label for="lastname" class="col-sm-3 control-label">目标主机</label>
                                    <div class="col-sm-10">
                                      <input type="text" value="{{ request.form.host }}" class="form-control" name="host" placeholder="Host">
                                    </div>
                                </div>

                                  <div class="form-group">
                                    <label for="lastname" class="col-sm-3 control-label">执行命令</label>
                                    <div class="col-sm-20">
                                      <input  type="text" value="{{ request.form.cmd }}" class="form-control" name="cmd" placeholder="Cmd">
                                    </div>
                                  </div>

                                  <div class="form-group">
                                    <div class="col-sm-offset-2 col-sm-10">
                                      <button type="submit" class="btn btn-primary"> Run </button>
                                    </div>
                                  </div>
                            </form>
                        </div>
                    </div>

    {% for message in get_flashed_messages() %}
        <div id="myAlert" class="alert alert-warning">
            <a class="close" data-dismiss="alert">&times;</a>
            <strong>{{ message }} {{ cmd }}</strong>
    {#        <button type="button" class="close" data-dismiss="alert">&times;</button>#}
    {#        {{ message }} {{ cmd }}#}
        </div>
    {% endfor %}


                </div>
            </div>
        </div>
    </div>


    <div class="span4">
        <div class="row">
            <div class="col-sm-10">
                <div class="widget-box transparent">
                    <div class="widget-header widget-header-flat">
                        <h4 class="lighter">
                            执行结果
                        </h4>
                    </div>
                        <textarea style="margin: 0px 0px 10px; height: 477px; width: 600px; background-color: black;color: green">
{% for k,v in result %}
目标主机: {{ k }}
执行命令: {{ cmd }}
------Result------
{{ v }}
{% endfor %}
                        </textarea>
                    </div>
                </div>
            </div>
        </div>
</div>

{##}
{##}
{#<!-- Standard button -->#}
{#<button type="button" class="btn btn-default">Default</button>#}
{##}
{#<!-- Provides extra visual weight and identifies the primary action in a set of buttons -->#}
{#<button type="button" class="btn btn-primary">Primary</button>#}
{##}
{#<!-- Indicates a successful or positive action -->#}
{#<button type="button" class="btn btn-success">Success</button>#}
{##}
{#<!-- Contextual button for informational alert messages -->#}
{#<button type="button" class="btn btn-info">Info</button>#}
{##}
{#<!-- Indicates caution should be taken with this action -->#}
{#<button type="button" class="btn btn-warning">Warning</button>#}
{##}
{#<!-- Indicates a dangerous or potentially negative action -->#}
{#<button type="button" class="btn btn-danger">Danger</button>#}
{##}
{#<!-- Deemphasize a button by making it look like a link while maintaining button behavior -->#}
{#<button type="button" class="btn btn-link">Link</button>#}

{% endblock %}